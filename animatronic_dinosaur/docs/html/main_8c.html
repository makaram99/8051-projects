<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Animatronic Dinosaur: code/src/main.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Animatronic Dinosaur
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
   <div id="projectbrief">This is a simple animation for a dinosaur in the Nature History Museum in London.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('main_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">main.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Animatronic dinosaur such as the one in Natural History Museum in London, UK.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;reg52.h&gt;</code><br />
<code>#include &quot;<a class="el" href="_s_t_d___t_y_p_e_s_8h_source.html">STD_TYPES.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_b_i_t___m_a_t_h_8h_source.html">BIT_MATH.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="main_8h_source.html">Main.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="port_8h_source.html">Port.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="cute_o_s_8h_source.html">cuteOS.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="dinosaur_8h_source.html">dinosaur.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for main.c:</div>
<div class="dyncontent">
<div class="center"><img src="main_8c__incl.png" border="0" usemap="#acode_2src_2main_8c" alt=""/></div>
<map name="acode_2src_2main_8c" id="acode_2src_2main_8c">
<area shape="rect" title="Animatronic dinosaur such as the one in Natural History Museum in London, UK." alt="" coords="414,5,573,37"/>
<area shape="rect" title=" " alt="" coords="5,85,93,117"/>
<area shape="rect" href="_s_t_d___t_y_p_e_s_8h.html" title="Standard data types For 8051 Microcontrollers." alt="" coords="117,85,269,117"/>
<area shape="rect" href="_b_i_t___m_a_t_h_8h.html" title="Common bit manipulation operations." alt="" coords="294,85,429,117"/>
<area shape="rect" href="main_8h.html" title="Project Header for main.c." alt="" coords="453,85,533,117"/>
<area shape="rect" href="port_8h.html" title="Port Header file for 8052 microcontroller." alt="" coords="558,85,631,117"/>
<area shape="rect" href="cute_o_s_8h.html" title="Simple EOS interfaces header file. See cuteOS.c for more details." alt="" coords="655,85,758,117"/>
<area shape="rect" href="dinosaur_8h.html" title="Dinosaur Animation System interfaces header file. See dinosaur.c for more details." alt="" coords="782,85,895,117"/>
</map>
</div>
</div>
<p><a href="main_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a6288eba0f8e8ad3ab1544ad731eb7667"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a6288eba0f8e8ad3ab1544ad731eb7667">main</a> (void)</td></tr>
<tr class="separator:a6288eba0f8e8ad3ab1544ad731eb7667"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Animatronic dinosaur such as the one in Natural History Museum in London, UK. </p>
<dl class="section author"><dt>Author</dt><dd>Mahmoud Karam (<a href="#" onclick="location.href='mai'+'lto:'+'ma.'+'ka'+'ram'+'27'+'2@g'+'ma'+'il.'+'co'+'m'; return false;">ma.ka<span style="display: none;">.nosp@m.</span>ram2<span style="display: none;">.nosp@m.</span>72@gm<span style="display: none;">.nosp@m.</span>ail.<span style="display: none;">.nosp@m.</span>com</a>)</dd></dl>
<p>The Natural History Museum in London recently installed a robotic dinosaur among the fossils in their Dinosaur Gallery. This large exhibit models a tyrannosaurus rex guarding a recent kill: the robot is large, very loud and moves quickly. It has proved to be very popular with visitors.</p>
<p>In this project, we will try to animate some of the dinosaur's maneuvers: 1- Sleeping: The dinosaur will be largely motionless, but will be obviously ‘breathing’. Irregular snoring noises, or slight movements during this time will add interest for the audience. Sleeping time is defined in SLEEPING_DURATION macro. 2- Waking: The dinosaur will begin to wake up. Eyelids will begin to flicker. Breathing will become more rapid. Waking time is defined in WAKING_DURATION macro. 3- Growling: Eyes will suddenly open, and the dinosaur will emit a very loud growl. Some further movement and growling will follow. Growling time is defined in GROWLING_DURATION macro. 4- Attacking: Rapid ‘random’ movements towards the audience. Lots of noise (you should be able to hear this from the next floor in the museum). Attack time is defined in ATTACK_DURATION macro.</p>
<p>Application usage: 1- Initialize the OS and the dinosaur. </p><div class="fragment"><div class="line"><a class="code" href="cute_o_s_8h.html#a538cb1529929abdc516dbc5a23bf41fd">cuteOS_Init</a>(); </div>
<div class="line"><a class="code" href="dinosaur_8h.html#a4e21f7574461ac80e489ec1b4ce49638">DINOSAUR_Init</a>(); </div>
<div class="ttc" id="acute_o_s_8h_html_a538cb1529929abdc516dbc5a23bf41fd"><div class="ttname"><a href="cute_o_s_8h.html#a538cb1529929abdc516dbc5a23bf41fd">cuteOS_Init</a></div><div class="ttdeci">ERROR_t cuteOS_Init(void)</div><div class="ttdoc">Sets up Timer 2 to drive the simple EOS.</div><div class="ttdef"><b>Definition:</b> <a href="cute_o_s_8c_source.html#l00228">cuteOS.c:228</a></div></div>
<div class="ttc" id="adinosaur_8h_html_a4e21f7574461ac80e489ec1b4ce49638"><div class="ttname"><a href="dinosaur_8h.html#a4e21f7574461ac80e489ec1b4ce49638">DINOSAUR_Init</a></div><div class="ttdeci">ERROR_t DINOSAUR_Init(void)</div><div class="ttdoc">Initialize the dinosaur system according to the configurations in the DINOSAUR_CONFIGS_t structure.</div><div class="ttdef"><b>Definition:</b> <a href="dinosaur_8c_source.html#l00033">dinosaur.c:33</a></div></div>
</div><!-- fragment --><p> 2- Create the dinosaur task with 1 second period. </p><div class="fragment"><div class="line"><a class="code" href="cute_o_s_8h.html#a7d3052acc66fae6a67b7cf7ccbf3d8d4">cuteOS_TaskCreate</a>(<a class="code" href="dinosaur_8h.html#abbe7a274bd18cf27bd2ffefa450d9b70">DINOSAUR_Update</a>, 1000); </div>
<div class="ttc" id="acute_o_s_8h_html_a7d3052acc66fae6a67b7cf7ccbf3d8d4"><div class="ttname"><a href="cute_o_s_8h.html#a7d3052acc66fae6a67b7cf7ccbf3d8d4">cuteOS_TaskCreate</a></div><div class="ttdeci">ERROR_t cuteOS_TaskCreate(ERROR_t(*const taskPtr)(void), const u16 TICK_MS)</div><div class="ttdoc">Create a task with the given task function and the given tick time.</div><div class="ttdef"><b>Definition:</b> <a href="cute_o_s_8c_source.html#l00126">cuteOS.c:126</a></div></div>
<div class="ttc" id="adinosaur_8h_html_abbe7a274bd18cf27bd2ffefa450d9b70"><div class="ttname"><a href="dinosaur_8h.html#abbe7a274bd18cf27bd2ffefa450d9b70">DINOSAUR_Update</a></div><div class="ttdeci">ERROR_t DINOSAUR_Update(void)</div><div class="ttdef"><b>Definition:</b> <a href="dinosaur_8c_source.html#l00059">dinosaur.c:59</a></div></div>
</div><!-- fragment --><p> 3- Start the Cute OS scheduler. </p><div class="fragment"><div class="line"><a class="code" href="cute_o_s_8h.html#a90f66f4ffbd452ceb65c8968caada76f">cuteOS_Start</a>(); </div>
<div class="ttc" id="acute_o_s_8h_html_a90f66f4ffbd452ceb65c8968caada76f"><div class="ttname"><a href="cute_o_s_8h.html#a90f66f4ffbd452ceb65c8968caada76f">cuteOS_Start</a></div><div class="ttdeci">void cuteOS_Start(void)</div><div class="ttdoc">The OS enters 'idle mode' between clock ticks to save power.</div><div class="ttdef"><b>Definition:</b> <a href="cute_o_s_8c_source.html#l00179">cuteOS.c:179</a></div></div>
</div><!-- fragment --><p> 4- Everything is done. The scheduler will call the dinosaur task every second to animate the dinosaur (<a class="el" href="dinosaur_8h.html#abbe7a274bd18cf27bd2ffefa450d9b70">DINOSAUR_Update()</a>). 5- The dinosaur task will either remain in the previous state or will change to the next state. </p><dl class="section version"><dt>Version</dt><dd>1.0.0 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2022-03-24 </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright (c) 2022</dd></dl>
<p>Application usage: </p>

<p class="definition">Definition in file <a class="el" href="main_8c_source.html">main.c</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a6288eba0f8e8ad3ab1544ad731eb7667"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6288eba0f8e8ad3ab1544ad731eb7667">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void main </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>&lt; Initialize Cute OS <br  />
</p>
<p>&lt; Initialize the dinosaur light system <br  />
</p>
<p>&lt; Create the tasks</p>
<p>&lt; Create a task to run the dinosaur light system</p>
<p>&lt; Start the Cute OS scheduler <br  />
</p>
<p>&lt; The scheduler will never return from here</p>

<p class="definition">Definition at line <a class="el" href="main_8c_source.html#l00057">57</a> of file <a class="el" href="main_8c_source.html">main.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8c_a6288eba0f8e8ad3ab1544ad731eb7667_cgraph.png" border="0" usemap="#amain_8c_a6288eba0f8e8ad3ab1544ad731eb7667_cgraph" alt=""/></div>
<map name="amain_8c_a6288eba0f8e8ad3ab1544ad731eb7667_cgraph" id="amain_8c_a6288eba0f8e8ad3ab1544ad731eb7667_cgraph">
<area shape="rect" title=" " alt="" coords="5,117,69,149"/>
<area shape="rect" href="cute_o_s_8h.html#a538cb1529929abdc516dbc5a23bf41fd" title="Sets up Timer 2 to drive the simple EOS." alt="" coords="155,5,278,37"/>
<area shape="rect" href="cute_o_s_8h.html#a90f66f4ffbd452ceb65c8968caada76f" title="The OS enters &#39;idle mode&#39; between clock ticks to save power." alt="" coords="147,61,286,93"/>
<area shape="rect" href="cute_o_s_8h.html#a7d3052acc66fae6a67b7cf7ccbf3d8d4" title="Create a task with the given task function and the given tick time." alt="" coords="117,117,316,149"/>
<area shape="rect" href="dinosaur_8h.html#a4e21f7574461ac80e489ec1b4ce49638" title="Initialize the dinosaur system according to the configurations in the DINOSAUR_CONFIGS_t structure." alt="" coords="137,173,297,205"/>
<area shape="rect" href="dinosaur_8h.html#abbe7a274bd18cf27bd2ffefa450d9b70" title=" " alt="" coords="117,229,316,261"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_050edd66366d13764f98250ef6db77f6.html">code</a></li><li class="navelem"><a class="el" href="dir_14807827589b339a04434892d1c1deae.html">src</a></li><li class="navelem"><a class="el" href="main_8c.html">main.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
